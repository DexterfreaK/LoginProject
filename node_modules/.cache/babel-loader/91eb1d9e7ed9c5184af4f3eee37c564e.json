{"ast":null,"code":"import _slicedToArray from\"/Users/harshit_nagpal/Documents/GitHub/LoginProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'bootstrap/dist/css/bootstrap.min.css';import axios from'axios';import{Alert,Card,Button,Fade}from'react-bootstrap';import{React,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var name,email,upd,crt,username,id;function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),dashboard=_useState2[0],setDashboard=_useState2[1];// const [name,setName] = useState(\"\");\n// const [id,setid] = useState(\"\");\n// const [user,setuser] = useState(\"\");\n// const [upd,setupd] = useState(\"\");\n// const [crt,setcrt] = useState(\"\");\n// const [email,setemail] = useState(\"\");\n// const [data,setData] = useState({});\nfunction getinfor(){var api='https://sutt-front-task-one.herokuapp.com/api/v1/auth/user';var token=localStorage.getItem('token');axios.get(api,{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){// setData(res.data.data.name);\n// console.log(data);\nconsole.log(res.data.data);name=res.data.data.name;id=res.data.data._id;email=res.data.data.email;crt=res.data.data.createdAt;upd=res.data.data.updatedAt;username=res.data.data.username;setDashboard(true);}).catch(function(error){console.log(error);});}function signout(e){e.preventDefault();setDashboard(false);localStorage.removeItem(\"token\");window.location.href='/';}return/*#__PURE__*/_jsx(_Fragment,{children:dashboard?/*#__PURE__*/_jsxs(Card,{className:\"m-4 p-3 text-center bg-light\",children:[/*#__PURE__*/_jsxs(Alert,{variant:\"primary\",className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:signout,children:\"Sign Out\"})]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Name : \",name]}),/*#__PURE__*/_jsxs(Card.Subtitle,{className:\"mb-2 text-muted \",children:[\"Email ID : \",email]}),/*#__PURE__*/_jsxs(Card.Subtitle,{className:\"mb-2 text-muted\",children:[\"User Name : \",username]}),/*#__PURE__*/_jsxs(Card.Subtitle,{className:\"mb-2 text-muted\",children:[\"ID : \",id]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Created at \",crt,\" | Updated at \",upd]}),/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:\"Successfully Logged In\"})]}):getinfor()});}export default Dashboard;","map":{"version":3,"names":["axios","Alert","Card","Button","Fade","React","useState","name","email","upd","crt","username","id","Dashboard","dashboard","setDashboard","getinfor","api","token","localStorage","getItem","get","headers","then","res","console","log","data","_id","createdAt","updatedAt","catch","error","signout","e","preventDefault","removeItem","window","location","href"],"sources":["/Users/harshit_nagpal/Documents/GitHub/LoginProject/src/Components/Dashboard.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { Alert,Card,Button, Fade } from 'react-bootstrap';\nimport { React, useState } from 'react';\n\nlet name,email,upd,crt,username,id;\n\nfunction Dashboard(){\n    \n    const [dashboard,setDashboard] = useState(false);\n    // const [name,setName] = useState(\"\");\n    // const [id,setid] = useState(\"\");\n    // const [user,setuser] = useState(\"\");\n    // const [upd,setupd] = useState(\"\");\n    // const [crt,setcrt] = useState(\"\");\n    // const [email,setemail] = useState(\"\");\n    // const [data,setData] = useState({});\n\n    function getinfor() {\n\n        const api = 'https://sutt-front-task-one.herokuapp.com/api/v1/auth/user';\n        \n        const token = localStorage.getItem('token')\n\n        axios.get(api, { headers: { \"Authorization\": `Bearer ${token}` } })\n\n            .then(res => {\n\n                // setData(res.data.data.name);\n                // console.log(data);\n                console.log(res.data.data);\n\n                name = res.data.data.name;\n                id = res.data.data._id;\n                email = res.data.data.email;\n                crt = res.data.data.createdAt;\n                upd = res.data.data.updatedAt;\n                username = res.data.data.username;\n                setDashboard(true);\n\n            })\n            .catch((error) => {\n                console.log(error)\n            });\n    }\n    function signout (e){\n        e.preventDefault();\n        setDashboard(false);\n        localStorage.removeItem(\"token\");\n        window.location.href = '/';\n    }\n    return(\n        <>\n            {dashboard ?(\n                <Card className='m-4 p-3 text-center bg-light'>\n                    <Alert variant='primary' className='d-flex justify-content-between'>\n                        <h4>Dashboard</h4>\n                        <Button variant=\"outline-danger\" onClick={signout}>Sign Out</Button>\n                    </Alert>\n                   \n                    <Card.Title>Name : {name}</Card.Title>\n                    <Card.Subtitle className=\"mb-2 text-muted \">Email ID : {email}</Card.Subtitle>\n                    <Card.Subtitle className=\"mb-2 text-muted\">User Name : {username}</Card.Subtitle>\n                    <Card.Subtitle className=\"mb-2 text-muted\">ID : {id}</Card.Subtitle>\n                    <Card.Text>\n                        Created at {crt} | Updated at {upd}\n                    </Card.Text>\n                    <Alert variant='success'>\n                        Successfully Logged In\n                    </Alert>\n                </Card>):\n                (getinfor())\n            \n            }\n        </>\n      \n    )\n\n}\n\n\nexport default Dashboard;"],"mappings":"yIAAA,MAAO,sCAAP,CACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAeC,IAAf,CAAoBC,MAApB,CAA4BC,IAA5B,KAAwC,iBAAxC,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,C,6IAEA,GAAIC,KAAJ,CAASC,KAAT,CAAeC,GAAf,CAAmBC,GAAnB,CAAuBC,QAAvB,CAAgCC,EAAhC,CAEA,QAASC,UAAT,EAAoB,CAEhB,cAAiCP,QAAQ,CAAC,KAAD,CAAzC,wCAAOQ,SAAP,eAAiBC,YAAjB,eACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAASC,SAAT,EAAoB,CAEhB,GAAMC,IAAG,CAAG,4DAAZ,CAEA,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEApB,KAAK,CAACqB,GAAN,CAAUJ,GAAV,CAAe,CAAEK,OAAO,CAAE,CAAE,iCAA2BJ,KAA3B,CAAF,CAAX,CAAf,EAEKK,IAFL,CAEU,SAAAC,GAAG,CAAI,CAET;AACA;AACAC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASA,IAArB,EAEApB,IAAI,CAAGiB,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcpB,IAArB,CACAK,EAAE,CAAGY,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcC,GAAnB,CACApB,KAAK,CAAGgB,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcnB,KAAtB,CACAE,GAAG,CAAGc,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcE,SAApB,CACApB,GAAG,CAAGe,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAcG,SAApB,CACAnB,QAAQ,CAAGa,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAchB,QAAzB,CACAI,YAAY,CAAC,IAAD,CAAZ,CAEH,CAhBL,EAiBKgB,KAjBL,CAiBW,SAACC,KAAD,CAAW,CACdP,OAAO,CAACC,GAAR,CAAYM,KAAZ,EACH,CAnBL,EAoBH,CACD,QAASC,QAAT,CAAkBC,CAAlB,CAAoB,CAChBA,CAAC,CAACC,cAAF,GACApB,YAAY,CAAC,KAAD,CAAZ,CACAI,YAAY,CAACiB,UAAb,CAAwB,OAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACH,CACD,mBACI,yBACKzB,SAAS,cACN,MAAC,IAAD,EAAM,SAAS,CAAC,8BAAhB,wBACI,MAAC,KAAD,EAAO,OAAO,CAAC,SAAf,CAAyB,SAAS,CAAC,gCAAnC,wBACI,iCADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,OAAO,CAAEmB,OAA1C,sBAFJ,GADJ,cAMI,MAAC,IAAD,CAAM,KAAN,sBAAoB1B,IAApB,GANJ,cAOI,MAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,kBAAzB,yBAAwDC,KAAxD,GAPJ,cAQI,MAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,iBAAzB,0BAAwDG,QAAxD,GARJ,cASI,MAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,iBAAzB,mBAAiDC,EAAjD,GATJ,cAUI,MAAC,IAAD,CAAM,IAAN,0BACgBF,GADhB,kBACmCD,GADnC,GAVJ,cAaI,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,oCAbJ,GADM,CAkBLO,QAAQ,EAnBjB,EADJ,CA2BH,CAGD,cAAeH,UAAf"},"metadata":{},"sourceType":"module"}